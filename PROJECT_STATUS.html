<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>xcmsVis Project Status ‚Ä¢ xcmsVis</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="xcmsVis Project Status"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">xcmsVis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="index.html" aria-label="Home"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="articles/gplotAdjustedRtime.html">gplotAdjustedRtime - Retention Time Adjustment</a></li>
    <li><a class="dropdown-item" href="articles/peak-visualization.html">Peak Visualization Functions</a></li>
    <li><a class="dropdown-item" href="articles/chromatogram-visualization.html">Chromatogram and Peak Density Visualization</a></li>
    <li><a class="dropdown-item" href="articles/feature-groups-visualization.html">Feature Groups Visualization</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/stanstrup/xcmsVis" aria-label="GitHub repository"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>xcmsVis Project Status</h1>
      <small class="dont-index">Source: <a href="https://github.com/stanstrup/xcmsVis/blob/main/PROJECT_STATUS.md" class="external-link"><code>PROJECT_STATUS.md</code></a></small>
    </div>

<div id="xcmsvis-project-status" class="section level1">

<p><strong>Last Updated</strong>: 2025-11-08</p>
<hr><div class="section level2">
<h2 id="quick-summary">Quick Summary<a class="anchor" aria-label="anchor" href="#quick-summary"></a></h2>
<p><strong>xcmsVis</strong> provides ggplot2-based implementations of XCMS plotting functions with support for both legacy (<code>XCMSnExp</code>) and modern (<code>XcmsExperiment</code>) objects.</p>
<table class="table"><thead><tr class="header"><th>Metric</th>
<th>Status</th>
</tr></thead><tbody><tr class="odd"><td><strong>Functions Implemented</strong></td>
<td>9 / 9 priority functions</td>
</tr><tr class="even"><td><strong>Object Support</strong></td>
<td>XCMSnExp ‚úÖ / XcmsExperiment ‚úÖ</td>
</tr><tr class="odd"><td><strong>Vignettes</strong></td>
<td>5 comprehensive guides</td>
</tr><tr class="even"><td><strong>Test Coverage</strong></td>
<td>9 test files, 153 tests passing</td>
</tr><tr class="odd"><td><strong>R CMD check</strong></td>
<td>‚úÖ 0 errors, 0 warnings</td>
</tr><tr class="even"><td><strong>GitHub Actions</strong></td>
<td>‚úÖ All workflows passing</td>
</tr></tbody></table><hr></div>
<div class="section level2">
<h2 id="implemented-functions">Implemented Functions<a class="anchor" aria-label="anchor" href="#implemented-functions"></a></h2>
<table class="table"><colgroup><col width="20%"><col width="20%"><col width="20%"><col width="20%"><col width="20%"></colgroup><thead><tr class="header"><th>Function</th>
<th>XCMS Original</th>
<th>Purpose</th>
<th>Objects Supported</th>
<th>Files</th>
</tr></thead><tbody><tr class="odd"><td><code>gplotAdjustedRtime</code></td>
<td><code>plotAdjustedRtime</code></td>
<td>RT alignment visualization</td>
<td>XCMSnExp, XcmsExperiment</td>
<td>R/gplotAdjustedRtime-methods.R</td>
</tr><tr class="even"><td><code>gplotChromPeaks</code></td>
<td><code>plotChromPeaks</code></td>
<td>Peak detection in RT-m/z space</td>
<td>XCMSnExp, XcmsExperiment</td>
<td>R/gplotChromPeaks-methods.R</td>
</tr><tr class="odd"><td><code>gplotChromPeakImage</code></td>
<td><code>plotChromPeakImage</code></td>
<td>Peak density heatmap</td>
<td>XCMSnExp, XcmsExperiment</td>
<td>R/gplotChromPeakImage-methods.R</td>
</tr><tr class="even"><td><code>gplotChromPeakDensity</code></td>
<td><code>plotChromPeakDensity</code></td>
<td>Peak density for parameter tuning</td>
<td>XChromatograms, MChromatograms</td>
<td>R/gplotChromPeakDensity-methods.R</td>
</tr><tr class="odd"><td><code>gplotChromatogramsOverlay</code></td>
<td><code>plotChromatogramsOverlay</code></td>
<td>Overlay multiple EICs</td>
<td>XChromatograms, MChromatograms</td>
<td>R/gplotChromatogramsOverlay-methods.R</td>
</tr><tr class="even"><td><code>gplot</code></td>
<td>
<code>plot</code> (S4)</td>
<td>Chromatogram with peaks</td>
<td>XChromatogram, XChromatograms, MChromatograms</td>
<td>R/gplot-methods.R</td>
</tr><tr class="odd"><td>
<code>gplot</code> (XcmsExperiment)</td>
<td>
<code>plot</code> (S4)</td>
<td>BPI and MS map visualization</td>
<td>XcmsExperiment</td>
<td>R/gplot-XcmsExperiment-methods.R</td>
</tr><tr class="even"><td><code>gplotFeatureGroups</code></td>
<td><code>plotFeatureGroups</code></td>
<td>Feature group visualization</td>
<td>XCMSnExp, XcmsExperiment</td>
<td>R/gplotFeatureGroups-methods.R</td>
</tr><tr class="odd"><td><code>ghighlightChromPeaks</code></td>
<td><code>highlightChromPeaks</code></td>
<td>Peak annotation layers</td>
<td>XCMSnExp, XcmsExperiment</td>
<td>R/ghighlightChromPeaks-methods.R</td>
</tr></tbody></table><hr></div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a></h2>
<table class="table"><colgroup><col width="33%"><col width="33%"><col width="33%"></colgroup><thead><tr class="header"><th>File</th>
<th>Title</th>
<th>Topics Covered</th>
</tr></thead><tbody><tr class="odd"><td><code>vignettes/gplotAdjustedRtime.qmd</code></td>
<td>Retention Time Alignment Visualization</td>
<td>RT alignment, sample grouping, customization, NSE usage</td>
</tr><tr class="even"><td><code>vignettes/peak-visualization.qmd</code></td>
<td>Peak Detection and Chromatogram Visualization</td>
<td>Peak detection, density heatmaps, chromatograms, peak annotations, filtering</td>
</tr><tr class="odd"><td><code>vignettes/chromatogram-visualization.qmd</code></td>
<td>Chromatogram and Peak Density Visualization</td>
<td>Chromatogram plotting, peak density, overlay plots, parameter tuning</td>
</tr><tr class="even"><td><code>vignettes/xcmsexperiment-visualization.qmd</code></td>
<td>XcmsExperiment Visualization</td>
<td>BPI and MS map visualization, multi-level MS data, interactive plots</td>
</tr><tr class="odd"><td><code>vignettes/feature-groups-visualization.qmd</code></td>
<td>Feature Groups Visualization</td>
<td>Feature grouping, related features, isotopes/adducts, customization, interactive plots</td>
</tr></tbody></table><hr></div>
<div class="section level2">
<h2 id="not-yet-implemented-candidates-for-implementation">Not Yet Implemented (Candidates for Implementation)<a class="anchor" aria-label="anchor" href="#not-yet-implemented-candidates-for-implementation"></a></h2>
<div class="section level3">
<h3 id="high-priority---modern-xcms-objects">High Priority - Modern XCMS Objects<a class="anchor" aria-label="anchor" href="#high-priority---modern-xcms-objects"></a></h3>
<table class="table"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr class="header"><th>XCMS Function</th>
<th>Input Objects</th>
<th>Priority</th>
<th>Status</th>
</tr></thead><tbody><tr class="odd"><td><del><code>plotChromPeakDensity</code></del></td>
<td>XChromatograms, MChromatograms</td>
<td>‚≠ê‚≠ê‚≠ê High</td>
<td>‚úÖ Implemented</td>
</tr><tr class="even"><td><del><code>plotChromatogramsOverlay</code></del></td>
<td>XChromatograms, MChromatograms</td>
<td>‚≠ê‚≠ê‚≠ê High</td>
<td>‚úÖ Implemented</td>
</tr><tr class="odd"><td><del><code>plotFeatureGroups</code></del></td>
<td>XCMSnExp, XcmsExperiment</td>
<td>‚≠ê‚≠ê Medium</td>
<td>‚úÖ Implemented</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="lower-priority">Lower Priority<a class="anchor" aria-label="anchor" href="#lower-priority"></a></h3>
<table class="table"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr class="header"><th>XCMS Function</th>
<th>Input Objects</th>
<th>Priority</th>
<th>Notes</th>
</tr></thead><tbody><tr class="odd"><td><code>plotPrecursorIons</code></td>
<td>MsExperiment</td>
<td>‚≠ê Low</td>
<td>MS/MS specific, specialized use case</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="not-implementing---legacy-objects">Not Implementing - Legacy Objects<a class="anchor" aria-label="anchor" href="#not-implementing---legacy-objects"></a></h3>
<p>15 functions for xcmsRaw/xcmsSet objects (plotQC, plotrt, plotTIC, plotRaw, plotEIC, plotChrom, plotScan, plotSpec, plotPeaks, plotSurf, image, levelplot, plot.xcmsEIC, plotTree, plotMsData) - focus is on modern XCMS workflow</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="file-structure">File Structure<a class="anchor" aria-label="anchor" href="#file-structure"></a></h2>
<pre><code>xcmsVis/
‚îú‚îÄ‚îÄ R/
‚îÇ   ‚îú‚îÄ‚îÄ AllGenerics.R                      # All generic declarations
‚îÇ   ‚îú‚îÄ‚îÄ gplotAdjustedRtime-methods.R      # 9 method files
‚îÇ   ‚îú‚îÄ‚îÄ gplotChromPeaks-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplotChromPeakImage-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplotChromPeakDensity-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplotChromatogramsOverlay-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplotFeatureGroups-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplot-methods.R
‚îÇ   ‚îú‚îÄ‚îÄ gplot-XcmsExperiment-methods.R
‚îÇ   ‚îî‚îÄ‚îÄ ghighlightChromPeaks-methods.R
‚îÇ
‚îú‚îÄ‚îÄ man/                                   # Auto-generated docs (9 files)
‚îú‚îÄ‚îÄ tests/testthat/
‚îÇ   ‚îú‚îÄ‚îÄ setup-biocparallel.R              # Test infrastructure
‚îÇ   ‚îî‚îÄ‚îÄ test-*.R                          # 9 test files
‚îÇ
‚îú‚îÄ‚îÄ vignettes/                             # 5 vignettes
‚îú‚îÄ‚îÄ dev-docs/
‚îÇ   ‚îú‚îÄ‚îÄ XCMS_REFERENCE.md                 # Consolidated XCMS reference
‚îÇ   ‚îú‚îÄ‚îÄ S4_GUIDE.md                       # Consolidated S4 guide
‚îÇ   ‚îî‚îÄ‚îÄ BIOCONDUCTOR_CHECKLIST.md         # Submission prep
‚îÇ
‚îî‚îÄ‚îÄ PROJECT_STATUS.md                      # This file</code></pre>
<hr></div>
<div class="section level2">
<h2 id="api-design">API Design<a class="anchor" aria-label="anchor" href="#api-design"></a></h2>
<div class="section level3">
<h3 id="consistent-function-signatures">Consistent Function Signatures<a class="anchor" aria-label="anchor" href="#consistent-function-signatures"></a></h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gplotFunction</span><span class="op">(</span><span class="va">object</span>,                    <span class="co"># XCMSnExp or XcmsExperiment</span></span>
<span>              color_by <span class="op">=</span> <span class="cn">NULL</span>,           <span class="co"># NSE column name</span></span>
<span>              include_columns <span class="op">=</span> <span class="cn">NULL</span>,    <span class="co"># Additional metadata</span></span>
<span>              <span class="va">...</span><span class="op">)</span>                       <span class="co"># Function-specific args</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s4-method-dispatch">S4 Method Dispatch<a class="anchor" aria-label="anchor" href="#s4-method-dispatch"></a></h3>
<p>All functions use proper S4 generics with methods for each object type:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/methods/setGeneric.html" class="external-link">setGeneric</a></span><span class="op">(</span><span class="st">"gplotFunction"</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/methods/setMethod.html" class="external-link">setMethod</a></span><span class="op">(</span><span class="st">"gplotFunction"</span>, <span class="st">"XCMSnExp"</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/methods/setMethod.html" class="external-link">setMethod</a></span><span class="op">(</span><span class="st">"gplotFunction"</span>, <span class="st">"XcmsExperiment"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="non-standard-evaluation">Non-Standard Evaluation<a class="anchor" aria-label="anchor" href="#non-standard-evaluation"></a></h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Users can use unquoted column names</span></span>
<span><span class="fu"><a href="reference/gplotAdjustedRtime.html">gplotAdjustedRtime</a></span><span class="op">(</span><span class="va">xdata</span>, color_by <span class="op">=</span> <span class="va">sample_group</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or strings</span></span>
<span><span class="fu"><a href="reference/gplotAdjustedRtime.html">gplotAdjustedRtime</a></span><span class="op">(</span><span class="va">xdata</span>, color_by <span class="op">=</span> <span class="st">"sample_group"</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="quality-assurance">Quality Assurance<a class="anchor" aria-label="anchor" href="#quality-assurance"></a></h2>
<div class="section level3">
<h3 id="r-cmd-check">R CMD Check<a class="anchor" aria-label="anchor" href="#r-cmd-check"></a></h3>
<p>‚úÖ <strong>Status</strong>: PASS - 0 Errors - 0 Warnings - 0 Notes</p>
</div>
<div class="section level3">
<h3 id="github-actions">GitHub Actions<a class="anchor" aria-label="anchor" href="#github-actions"></a></h3>
<p>‚úÖ <strong>pkgdown deployment</strong>: Deploys to gh-pages branch ‚úÖ <strong>R CMD check</strong>: Tests on multiple R versions and platforms</p>
</div>
<div class="section level3">
<h3 id="test-infrastructure">Test Infrastructure<a class="anchor" aria-label="anchor" href="#test-infrastructure"></a></h3>
<ul><li>
<strong>setup-biocparallel.R</strong>: Configures serial processing to eliminate warnings</li>
<li>
<strong>Comprehensive tests</strong>: All functions tested with both object types</li>
<li>
<strong>Edge cases</strong>: Empty objects, no peaks, invalid parameters</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="known-implementation-details">Known Implementation Details<a class="anchor" aria-label="anchor" href="#known-implementation-details"></a></h2>
<div class="section level3">
<h3 id="id_1-multi-sample-peak-highlighting">1. Multi-Sample Peak Highlighting<a class="anchor" aria-label="anchor" href="#id_1-multi-sample-peak-highlighting"></a></h3>
<p><code>ghighlightChromPeaks</code> follows XCMS convention:</p>
<ul><li>Takes full XCMSnExp/XcmsExperiment object</li>
<li>Searches <strong>all</strong> peaks across all samples</li>
<li>Filters by rt/mz parameters</li>
</ul><p><strong>Recommended</strong>: Use <code>filterFile()</code> first for single-sample visualization.</p>
</div>
<div class="section level3">
<h3 id="id_2-polygon-peak-visualization">2. Polygon Peak Visualization<a class="anchor" aria-label="anchor" href="#id_2-polygon-peak-visualization"></a></h3>
<p>Exact replication of XCMS behavior: - Extracts chromatograms for <strong>entire m/z range</strong> (not per-peak) - Orders peaks by intensity descending - Creates closed polygons following chromatogram intensities</p>
<p>See: <code>R/ghighlightChromPeaks-methods.R</code> lines 95-150</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="future-work">Future Work<a class="anchor" aria-label="anchor" href="#future-work"></a></h2>
<div class="section level3">
<h3 id="high-priority---core-visualization-functions">High Priority - Core Visualization Functions<a class="anchor" aria-label="anchor" href="#high-priority---core-visualization-functions"></a></h3>
<table class="table"><colgroup><col width="25%"><col width="25%"><col width="25%"><col width="25%"></colgroup><thead><tr class="header"><th>Task</th>
<th>Input Objects</th>
<th>Description</th>
<th>Effort</th>
</tr></thead><tbody><tr class="odd"><td><code>gplotChromPeakDensity</code></td>
<td>XChromatograms, MChromatograms</td>
<td>Peak density visualization for parameter tuning</td>
<td>Medium</td>
</tr><tr class="even"><td><code>gplotChromatogramsOverlay</code></td>
<td>XChromatograms, MChromatograms</td>
<td>Overlay multiple EICs in one plot</td>
<td>Medium</td>
</tr><tr class="odd"><td><code>gplotFeatureGroups</code></td>
<td>XCMSnExp, XcmsExperiment</td>
<td>Feature annotation QC and relationships</td>
<td>Medium</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="high-priority---package-quality">High Priority - Package Quality<a class="anchor" aria-label="anchor" href="#high-priority---package-quality"></a></h3>
<table class="table"><thead><tr class="header"><th>Task</th>
<th>Description</th>
<th>Effort</th>
</tr></thead><tbody><tr class="odd"><td>Visual regression tests</td>
<td>Using vdiffr package</td>
<td>Low</td>
</tr><tr class="even"><td>Plotly integration guide</td>
<td>Optimize tooltips, interactivity</td>
<td>Low</td>
</tr><tr class="odd"><td>Performance profiling</td>
<td>Test with large datasets</td>
<td>Low</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="medium-priority">Medium Priority<a class="anchor" aria-label="anchor" href="#medium-priority"></a></h3>
<table class="table"><thead><tr class="header"><th>Task</th>
<th>Description</th>
<th>Effort</th>
</tr></thead><tbody><tr class="odd"><td>Additional vignettes</td>
<td>Interactive plotting, QC workflows</td>
<td>Medium</td>
</tr><tr class="even"><td>Performance profiling</td>
<td>Test with large datasets</td>
<td>Low</td>
</tr><tr class="odd"><td>Color palette support</td>
<td>viridis, ColorBrewer, etc.</td>
<td>Low</td>
</tr><tr class="even"><td>Export helpers</td>
<td>Publication-ready figures</td>
<td>Low</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="low-priority">Low Priority<a class="anchor" aria-label="anchor" href="#low-priority"></a></h3>
<table class="table"><thead><tr class="header"><th>Task</th>
<th>Description</th>
<th>Effort</th>
</tr></thead><tbody><tr class="odd"><td>Shiny apps</td>
<td>Interactive exploration</td>
<td>High</td>
</tr><tr class="even"><td>Ion mobility support</td>
<td>When available in XCMS</td>
<td>High</td>
</tr><tr class="odd"><td>Additional XCMS functions</td>
<td>TIC, BPC, spectrum plots</td>
<td>Medium</td>
</tr><tr class="even"><td>Bioconductor submission</td>
<td>Package submission</td>
<td>Medium</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="infrastructure">Infrastructure<a class="anchor" aria-label="anchor" href="#infrastructure"></a></h3>
<table class="table"><thead><tr class="header"><th>Task</th>
<th>Description</th>
<th>Status</th>
</tr></thead><tbody><tr class="odd"><td>Code coverage reporting</td>
<td>codecov integration</td>
<td>Planned</td>
</tr><tr class="even"><td>Hex sticker logo</td>
<td>Package branding</td>
<td>Planned</td>
</tr><tr class="odd"><td>pkgdown articles</td>
<td>Advanced topics</td>
<td>Planned</td>
</tr><tr class="even"><td>Tutorial videos</td>
<td>YouTube/Vimeo</td>
<td>Idea</td>
</tr><tr class="odd"><td>Blog posts</td>
<td>Package features</td>
<td>Idea</td>
</tr></tbody></table><hr></div>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<div class="section level3">
<h3 id="adding-new-functions">Adding New Functions<a class="anchor" aria-label="anchor" href="#adding-new-functions"></a></h3>
<ol style="list-style-type: decimal"><li>‚úÖ Create <code>R/gplot*.R</code> with S4 methods</li>
<li>‚úÖ Add roxygen2 documentation in <code>R/AllGenerics.R</code>
</li>
<li>‚úÖ Run <code>devtools::document()</code> to update man/ and NAMESPACE</li>
<li>‚úÖ Create tests in <code>tests/testthat/test-*.R</code>
</li>
<li>‚úÖ Add examples to vignettes</li>
<li>‚úÖ Run <code>devtools::check()</code>
</li>
<li>‚úÖ Update NEWS.md</li>
<li>‚úÖ Commit with descriptive message</li>
</ol></div>
<div class="section level3">
<h3 id="testing-checklist">Testing Checklist<a class="anchor" aria-label="anchor" href="#testing-checklist"></a></h3>
<ul class="task-list"><li><label><input type="checkbox">Test with both XCMSnExp and XcmsExperiment</label></li>
<li><label><input type="checkbox">Test all parameter combinations</label></li>
<li><label><input type="checkbox">Test edge cases (empty, no peaks, etc.)</label></li>
<li><label><input type="checkbox">Test NSE <code>color_by</code> functionality</label></li>
<li><label><input type="checkbox">Verify ggplot object returned</label></li>
<li><label><input type="checkbox">Check documentation examples work</label></li>
<li><label><input type="checkbox">Run full <code>devtools::check()</code></label></li>
</ul></div>
<div class="section level3">
<h3 id="commit-message-format">Commit Message Format<a class="anchor" aria-label="anchor" href="#commit-message-format"></a></h3>
<pre><code>type: brief description

Detailed explanation of changes.

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude &lt;noreply@anthropic.com&gt;</code></pre>
<p><strong>Types</strong>: feat, fix, docs, test, refactor, chore</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h2>
<div class="section level3">
<h3 id="required">Required<a class="anchor" aria-label="anchor" href="#required"></a></h3>
<table class="table"><thead><tr class="header"><th>Package</th>
<th>Purpose</th>
</tr></thead><tbody><tr class="odd"><td>ggplot2</td>
<td>Plotting framework</td>
</tr><tr class="even"><td>methods</td>
<td>S4 class system</td>
</tr><tr class="odd"><td>xcms</td>
<td>Source package</td>
</tr><tr class="even"><td>MsExperiment</td>
<td>Modern MS objects</td>
</tr><tr class="odd"><td>MSnbase</td>
<td>Base MS classes</td>
</tr><tr class="even"><td>Spectra</td>
<td>Spectrum handling</td>
</tr><tr class="odd"><td>BiocParallel</td>
<td>Parallel processing</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<table class="table"><thead><tr class="header"><th>Package</th>
<th>Purpose</th>
</tr></thead><tbody><tr class="odd"><td>testthat</td>
<td>Testing framework</td>
</tr><tr class="even"><td>faahKO</td>
<td>Example data</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="suggested">Suggested<a class="anchor" aria-label="anchor" href="#suggested"></a></h3>
<table class="table"><thead><tr class="header"><th>Package</th>
<th>Purpose</th>
</tr></thead><tbody><tr class="odd"><td>plotly</td>
<td>Interactive plots</td>
</tr><tr class="even"><td>quarto</td>
<td>Vignette rendering</td>
</tr></tbody></table><hr></div>
</div>
<div class="section level2">
<h2 id="documentation-structure">Documentation Structure<a class="anchor" aria-label="anchor" href="#documentation-structure"></a></h2>
<div class="section level3">
<h3 id="roxygen2-pattern">Roxygen2 Pattern<a class="anchor" aria-label="anchor" href="#roxygen2-pattern"></a></h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @title Function Title</span></span>
<span><span class="co">#' @description Brief description</span></span>
<span><span class="co">#' @param object An `XCMSnExp` or `XcmsExperiment` object</span></span>
<span><span class="co">#' @return A ggplot object</span></span>
<span><span class="co">#' @details Detailed explanation</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' \donttest{</span></span>
<span><span class="co">#' # Working examples using faahKO data</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @seealso \code{\link[xcms]{originalFunction}}</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/methods/setGeneric.html" class="external-link">setGeneric</a></span><span class="op">(</span><span class="st">"functionName"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="man-page-features">Man Page Features<a class="anchor" aria-label="anchor" href="#man-page-features"></a></h3>
<ul><li>‚úÖ Comprehensive parameter descriptions</li>
<li>‚úÖ Working examples with faahKO data</li>
<li>‚úÖ Cross-references to XCMS originals</li>
<li>‚úÖ Usage notes for both object types</li>
<li>‚úÖ Behavior explanations</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="key-achievements">Key Achievements<a class="anchor" aria-label="anchor" href="#key-achievements"></a></h2>
<ol style="list-style-type: decimal"><li>‚úÖ <strong>9 core functions</strong> implemented with full dual-object support</li>
<li>‚úÖ <strong>Exact XCMS replication</strong> for all visualization behaviors</li>
<li>‚úÖ <strong>Comprehensive documentation</strong> with side-by-side comparisons</li>
<li>‚úÖ <strong>Full test coverage</strong> including edge cases (9 test files, 153 tests passing)</li>
<li>‚úÖ <strong>Clean package structure</strong> following R best practices</li>
<li>‚úÖ <strong>GitHub Actions</strong> CI/CD pipeline</li>
<li>‚úÖ <strong>NSE support</strong> for user-friendly API</li>
<li>‚úÖ <strong>Five comprehensive vignettes</strong> covering all major use cases</li>
<li>‚úÖ <strong>XcmsExperiment BPI/MS map visualization</strong> with patchwork integration</li>
<li>‚úÖ <strong>Chromatogram overlay</strong> and peak density visualization</li>
<li>‚úÖ <strong>Feature group visualization</strong> with connected features across RT-m/z space</li>
</ol><hr></div>
<div class="section level2">
<h2 id="usage-examples">Usage Examples<a class="anchor" aria-label="anchor" href="#usage-examples"></a></h2>
<div class="section level3">
<h3 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a></h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stanstrup.github.io/xcmsVis">xcmsVis</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sneumann/xcms" class="external-link">xcms</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dx.doi.org/10.1021/bi0480335" class="external-link">faahKO</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/MsExperiment" class="external-link">MsExperiment</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load data</span></span>
<span><span class="va">cdf_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"cdf"</span>, package <span class="op">=</span> <span class="st">"faahKO"</span><span class="op">)</span>,</span>
<span>                 recursive <span class="op">=</span> <span class="cn">TRUE</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">xdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MsExperiment/man/readMsExperiment.html" class="external-link">readMsExperiment</a></span><span class="op">(</span>spectraFiles <span class="op">=</span> <span class="va">cdf_files</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Peak detection</span></span>
<span><span class="va">xdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xcms/man/findChromPeaks.html" class="external-link">findChromPeaks</a></span><span class="op">(</span><span class="va">xdata</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/xcms/man/findChromPeaks-centWave.html" class="external-link">CentWaveParam</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualizations</span></span>
<span><span class="fu"><a href="reference/gplotChromPeaks.html">gplotChromPeaks</a></span><span class="op">(</span><span class="va">xdata</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/gplotChromPeakImage.html">gplotChromPeakImage</a></span><span class="op">(</span><span class="va">xdata</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># RT alignment</span></span>
<span><span class="va">xdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xcms/man/adjustRtime.html" class="external-link">adjustRtime</a></span><span class="op">(</span><span class="va">xdata</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/xcms/man/adjustRtime.html" class="external-link">ObiwarpParam</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/gplotAdjustedRtime.html">gplotAdjustedRtime</a></span><span class="op">(</span><span class="va">xdata</span>, color_by <span class="op">=</span> <span class="va">sample_name</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Chromatogram plotting</span></span>
<span><span class="va">chr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">chromatogram</a></span><span class="op">(</span><span class="va">xdata</span>, mz <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">210</span><span class="op">)</span>, rt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>, <span class="fl">3500</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/gplot.html">gplot</a></span><span class="op">(</span><span class="va">chr</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># XcmsExperiment BPI and MS map visualization</span></span>
<span><span class="fu"><a href="reference/gplot.html">gplot</a></span><span class="op">(</span><span class="va">xdata</span><span class="op">)</span>  <span class="co"># Creates combined BPI + MS map with patchwork</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="advanced-filtered-peak-highlighting">Advanced: Filtered Peak Highlighting<a class="anchor" aria-label="anchor" href="#advanced-filtered-peak-highlighting"></a></h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract chromatogram</span></span>
<span><span class="va">chr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">chromatogram</a></span><span class="op">(</span><span class="va">xdata</span>, mz <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">210</span><span class="op">)</span>, rt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>, <span class="fl">3500</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Highlight only peaks from first sample</span></span>
<span><span class="fu"><a href="reference/gplot.html">gplot</a></span><span class="op">(</span><span class="va">chr</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span>, peakType <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="reference/ghighlightChromPeaks.html">ghighlightChromPeaks</a></span><span class="op">(</span></span>
<span>    <span class="fu">filterFile</span><span class="op">(</span><span class="va">xdata</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    rt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>, <span class="fl">3500</span><span class="op">)</span>,</span>
<span>    mz <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">210</span><span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"polygon"</span>,</span>
<span>    border <span class="op">=</span> <span class="st">"blue"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>
<strong>Package Website</strong>: <a href="https://stanstrup.github.io/xcmsVis/" class="uri">https://stanstrup.github.io/xcmsVis/</a> (via pkgdown)</li>
<li>
<strong>XCMS Package</strong>: <a href="https://github.com/sneumann/xcms" class="external-link uri">https://github.com/sneumann/xcms</a>
</li>
<li>
<strong>Bioconductor XCMS</strong>: <a href="https://bioconductor.org/packages/xcms" class="external-link uri">https://bioconductor.org/packages/xcms</a>
</li>
</ul></div>
<div class="section level3">
<h3 id="development-guides">Development Guides<a class="anchor" aria-label="anchor" href="#development-guides"></a></h3>
<ul><li>
<code>dev-docs/XCMS_REFERENCE.md</code> - XCMS function and pattern reference</li>
<li>
<code>dev-docs/S4_GUIDE.md</code> - S4 implementation guide</li>
<li>
<code>dev-docs/BIOCONDUCTOR_CHECKLIST.md</code> - Submission preparation</li>
<li>
<code>CLAUDE.md</code> - Development workflow and conventions</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a></h2>
<p>Developed using Claude Code with extensive reference to XCMS source code and documentation.</p>
<hr></div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a></h2>
<p>Same as XCMS package (GPL-2 or GPL-3)</p>
<hr><p><strong>Questions or Issues?</strong> - GitHub Issues: <a href="https://github.com/stanstrup/xcmsVis/issues" class="external-link uri">https://github.com/stanstrup/xcmsVis/issues</a> - XCMS Google Group: <a href="https://groups.google.com/g/xcms" class="external-link uri">https://groups.google.com/g/xcms</a></p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stanstrup Jan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

